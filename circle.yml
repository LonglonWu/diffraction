machine:
  python:
    version: 3.5.0

general:
  artifacts:
    - "htmlcov/*"
    - "pytest_report.html"

dependencies:
  pre:
    - pip install -e .
  override:
    - pip install -r requirements.txt
    - pip install -r requirements-dev.txt

test:
    override:
      - py.test --junitxml=$CIRCLE_TEST_REPORTS/report.xml
    post:
      - coveralls
      - coverage xml
      - python-codacy-coverage -r coverage.xml